<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <meta name="author" content="Timmy Siauw"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.00" />

    <title>Timmy Siauw | Interests</title>

    <link rel="stylesheet" type="text/css" href="css/normalize.min.css" />
    <link rel="stylesheet" type="text/css" href="fa/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

    <link rel="shortcut icon" href="favicon.ico"/>

    <script src = "javascripts/jquery/jquery-1.11.3.min.js"></script>
    <script src = "javascripts/underscore/underscore-min.js"></script>

    <script src = "interests.js"></script>
    
    <style>
        
        .interest-letter-group {
            background-color: white;
            padding: 10px;
            margin-bottom: 10px;
        }

        .col-4 {
            width: 32%;
            float: left;
            padding: 0px;
        }

        .col-4 {
            margin-right: 1%;
            margin-bottom: 60px;
        }

        .col-4:last-child {
            margin-right: 0px;
        }

        #shortcuts {
            text-align: center;
            margin: 30px;
        }

        #shortcuts a {
            margin: 0px 5px;
            font-size: 16px;
        }

        @media only screen and (max-width: 640px) {
            
            #shortcuts {
                margin: 30px 0px;
            }

            #shortcuts a {
                margin: 0px 3px;
                font-size: 14px;
            }            

            .col-4 {
                width: 100%;
                margin-right: 0px;
            }
        }
    </style>
</head>

<body>

	<header>
        <div class = "container">
            
        	<a href = "index.html"><img src = "logo.png"/></a>

            <nav id="nav">
                <ul>
                    <li><a href="about.html">About</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="cv.html">CV</a></li>
                    <li><a href="interests.html" class = "active">Interests</a></li>
                </ul>
            </nav>
            <br style="clear:both;">
        </div>
    </header>

	<div id = "interests" class = "container content">
    </div>

    <footer>
        <div class="container">
            <small>Â© 2015, Timmy Siauw</small>
            <a href = ""><span class = "fa fa-envelope-square fa-2x"></span></a>
            <a href = "https://github.com/timmysiauw"><span class = "fa fa-github-square fa-2x"></span></a>
            <a href = "https://www.linkedin.com/in/timmysiauw"><span class = "fa fa-linkedin-square fa-2x"></span></a>
            <a href = "https://twitter.com/TimmySiauw"><span class = "fa fa-twitter-square fa-2x"></span></a>
        </div>
    </footer>

    <script id="interest-template" type="text/template">
        <a href = "<%=link%>"><%=name%></a><br>
    </script>

    <script id="interest-letter-group-template" type="text/template">
        <div class = "interest-letter-group shadow-1">
            <a name = "<%=letter%>"><h3> <%=letter%> </h3></a>
            <div class = "sub-list">
            </div>
        </div>
    </script>

    <script id="alphabetical-interest-template" type="text/template">
        
        <div id = "shortcuts">

        </div>

        <div>

            <div id = "left-col" class = "col-4">
            </div>

            <div id = "mid-col" class = "col-4">
            </div>

            <div id = "right-col" class = "col-4">
            </div>

        </div>
    </script>

    <script>

        // alphabetize interests
        interests.sort(function(a,b) {
            if (a.name.toUpperCase().replace("THE ", "") < b.name.toUpperCase().replace("THE ", "")) return -1;
            else if (a.name.toUpperCase().replace("THE ", "") > b.name.toUpperCase().replace("THE ", "")) return 1;
            else return 0;
        });

        // sort interests into letter bins
        var lists = {A: [], B: [], C: [], D: [], E: [], F: [], G: [], H: [], I: [], J: [], K: [], L: [], M: [], N: [], O: [], P: [], Q: [], R: [], S: [], T: [], U: [], V: [], W: [], X: [], Y: [], Z: []};
        for (var i=0; i<interests.length; i++) {
            lists[interests[i].name.toUpperCase().replace("THE ","")[0]].push(interests[i]);
        }

        // find number of letter groups we have
        var columns = {left: [], middle: [], right: []};
        var nLetters = 0;
        for (var letter in lists) {
            if (lists[letter].length !== 0) {nLetters++}
        };

        // compute total "height" of list (so we can divide it somewhat evenly into 3 columns)
        var H = nLetters*3 + interests.length;


        $("#interests").append(_.template($("#alphabetical-interest-template").html())());


        var group = _.template($("#interest-letter-group-template").html());
        var template = _.template($("#interest-template").html());
        var current = 0;
        for (var letter in lists) {
            current+=3;
            if (lists[letter].length !== 0) {
                
                $("#shortcuts").append("<a href = '#" + letter + "''>" + letter + "</a>");

                var $group = $(group({letter: letter}));
                for (var j=0; j<lists[letter].length; j++) {
                    $group.children(".sub-list").append(template(lists[letter][j]));
                    current++;
                }
                
                if (current/H < .4) {
                    $("#left-col").append($group);
                }
                else if (current/H < .8) {
                    $("#mid-col").append($group);
                }
                else {
                    $("#right-col").append($group);
                }
            }
        };

    </script>
</body>
</html>