var interests = [
	{
		name: "Mikey Gee",
		subtitle: "Best Friend",
		link: "http://mikeygee.com/",
		category: ["People", "Friends"],
		keywords: [],
		blurb: null
	},
	{
		name: "Trucy Phan",
		subtitle: null,
		link: "http://trucyphan.com/",
		category: ["People", "Friends"],
		keywords: [],
		blurb: null
	},
	{
		name: "Leah Serb",
		subtitle: null,
		link: "http://leahserb.wix.com/fossi-baht",
		category: ["People", "Friends", "Fashion"],
		keywords: [],
		blurb: null
	},
	{
		name: "Maya Abu-Mansour",
		subtitle: null,
		link: "http://www.fitnessbymaya.com/",
		category: ["People", "Friends", "Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "Mark Jellison",
		subtitle: null,
		link: "http://markjellison.com/",
		category: ["People", "Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "Sean Darling-Hammond",
		subtitle: null,
		link: "https://www.facebook.com/thegivingninja",
		category: ["People", "Friends", "Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "Sean Plott",
		subtitle: null,
		link: "http://day9.tv/",
		category: ["People", "Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Dan Carlin",
		subtitle: null,
		link: "http://www.dancarlin.com/hardcore-history-series/",
		category: ["People"],
		keywords: [],
		blurb: null
	},
	{
		name: "Dan Carlin\'s Hardcore History",
		subtitle: null,
		link: "http://www.dancarlin.com/hardcore-history-series/",
		category: ["Podcasts", "Channels"],
		keywords: [],
		blurb: null
	},
	{
		name: "Adriene",
		subtitle: null,
		link: "https://www.youtube.com/user/yogawithadriene",
		category: ["People", "Health and Fitness", "Channels"],
		keywords: [],
		blurb: null
	},
	{
		name: "node.js",
		subtitle: null,
		link: "https://nodejs.org/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "socket.io",
		subtitle: null,
		link: "http://socket.io/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "D3.js",
		subtitle: null,
		link: "http://d3js.org/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "three.js",
		subtitle: null,
		link: "http://threejs.org/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "paper.js",
		subtitle: null,
		link: "http://paperjs.org/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "Backbone.js",
		subtitle: null,
		link: "http://backbonejs.org/",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "async.js",
		subtitle: null,
		link: "https://github.com/caolan/async",
		category: ["Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "jsdicom",
		subtitle: null,
		link: "https://github.com/Infogosoft/jsdicom",
		category: ["Programming", "Javascript"],
		keywords: ["javascript", "programming", "web"],
		blurb: null
	},
	{
		name: "The Four Hour Work Week",
		subtitle: null,
		link: "http://www.amazon.com/The-4-Hour-Workweek-Anywhere-Expanded/dp/0307465357",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "The Four Hour Body",
		subtitle: null,
		link: "http://www.amazon.com/Hour-Body-Uncommon-Incredible-Superhuman/dp/030746363X/ref=sr_1_1?s=books&ie=UTF8&qid=1441043867&sr=1-1&keywords=the+four+hour+body",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "The Calorie Myth",
		subtitle: null,
		link: "http://www.amazon.com/Calorie-Myth-Exercise-Weight-Better/dp/0062267345/ref=sr_1_1?s=books&ie=UTF8&qid=1441043887&sr=1-1&keywords=the+calorie+myth",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Your Body's Many Cries for Water",
		subtitle: null,
		link: "http://www.amazon.com/Your-Bodys-Many-Cries-Water/dp/0970245882/ref=sr_1_1?s=books&ie=UTF8&qid=1441043906&sr=1-1&keywords=your+body%27s+many+cries+for+water",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Algorithms",
		subtitle: null,
		link: "http://beust.com/algorithms.pdf",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Convex Optimization",
		subtitle: null,
		link: "https://web.stanford.edu/~boyd/cvxbook/bv_cvxbook.pdf",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Berkeley Ironworks",
		subtitle: null,
		link: "https://touchstoneclimbing.com/ironworks/",
		category: ["Climbing", "Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "Touchstone Climbing",
		subtitle: null,
		link: "https://touchstoneclimbing.com/",
		category: ["Climbing", "Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "Total Athletic Conditioning",
		subtitle: null,
		link: "http://recsports.berkeley.edu/fitness-wellness/group-exercise/all-around-workouts/total-athletic-conditioning/",
		category: ["Health and Fitness"],
		keywords: [],
		blurb: null
	},
	{
		name: "SURF",
		subtitle: null,
		link: "http://surf.berkeley.edu/",
		category: ["Groups"],
		keywords: [],
		blurb: null
	},
	{
		name: "Matlab",
		subtitle: null,
		link: "http://www.mathworks.com/products/matlab/",
		category: ["Programming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Python",
		subtitle: null,
		link: "https://www.python.org/",
		category: ["Programming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Midori",
		subtitle: null,
		link: "http://www.midorisushi.net/",
		category: ["Food"],
		keywords: [],
		blurb: null
	},
	{
		name: "IMDB",
		subtitle: null,
		link: "http://www.imdb.com/",
		category: ["Movies"],
		keywords: [],
		blurb: null
	},
	{
		name: "Go",
		subtitle: null,
		link: "https://en.wikipedia.org/wiki/Go_(game)",
		category: ["Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "GoPanda2",
		subtitle: null,
		link: "http://pandanet-igs.com/communities/gopanda2",
		category: ["Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Round-Off Error",
		subtitle: "",
		link: "http://archives.math.utk.edu/ICTCM/EP-7/SA15/pdf/paper.pdf",
		category: ["Articles"],
		keywords: [],
		blurb: null
	},
	{
		name: "IFSC",
		subtitle: null,
		link: "http://www.ifsc-climbing.org/",
		category: ["Climbing", "Channels"],
		keywords: [],
		blurb: null
	},
	{
		name: "LouderThan11",
		subtitle: null,
		link: "https://www.youtube.com/user/LouderThan11",
		category: ["Climbing", "Channels"],
		keywords: [],
		blurb: null
	},
	{
		name: "Starcraft",
		subtitle: null,
		link: "http://us.battle.net/sc2/en/?-",
		category: ["Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "TeamLiquid.net",
		subtitle: null,
		link: "http://www.teamliquid.net/",
		category: ["Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Github",
		subtitle: null,
		link: "https://github.com/",
		category: ["Programming"],
		keywords: [],
		blurb: null
	},
	{
		name: "League of Legends",
		subtitle: null,
		link: "http://na.leagueoflegends.com/",
		category: ["Gaming"],
		keywords: [],
		blurb: null
	},
	{
		name: "Straw",
		subtitle: null,
		link: "http://www.strawsf.com/",
		category: ["Food"],
		keywords: [],
		blurb: null
	},
	{
		name: "Sushi House",
		subtitle: null,
		link: "http://www.e-sushihouse.com/",
		category: ["Food"],
		keywords: [],
		blurb: null
	},
	{
		name: "Salary Negotiation",
		subtitle: null,
		link: "http://www.kalzumeus.com/2012/01/23/salary-negotiation/",
		category: ["Articles"],
		keywords: [],
		blurb: null
	},
	{
		name: "Latex",
		subtitle: null,
		link: "http://www.latex-project.org/",
		category: ["Miscellaneous"],
		keywords: [],
		blurb: null
	},
	{
		name: "LatexIt",
		subtitle: null,
		link: "http://www.chachatelier.fr/latexit/latexit-downloads.php?lang=en",
		category: ["Apps"],
		keywords: [],
		blurb: null
	},
	{
		name: "La Mission",
		subtitle: null,
		link: "http://www.yelp.com/biz/la-mission-berkeley",
		category: ["Food"],
		keywords: [],
		blurb: null
	},
	{
		name: "La Burrita",
		subtitle: null,
		link: "http://www.yelp.com/biz/la-burrita-berkeley",
		category: ["Food"],
		keywords: [],
		blurb: null
	},
	{
		name: "Hero Machine",
		subtitle: null,
		link: "http://www.heromachine.com/",
		category: ["Apps"],
		keywords: [],
		blurb: null
	},
	{
		name: "Goorin Bros.",
		subtitle: null,
		link: "http://www.goorin.com/",
		category: ["Fashion"],
		keywords: [],
		blurb: null
	},
	{
		name: "Indochino",
		subtitle: null,
		link: "http://www.indochino.com/",
		category: ["Fashion"],
		keywords: [],
		blurb: null
	},
	{
		name: "Bungee Adventures",
		subtitle: null,
		link: "http://bungeeadventures.net/",
		category: ["Fun"],
		keywords: [],
		blurb: null
	},
	{
		name: "Google Material Design",
		subtitle: null,
		link: "https://www.google.com/design/spec/material-design/introduction.html",
		category: ["Articles", "Guidelines"],
		keywords: [],
		blurb: null
	},
	{
		name: "Startup",
		subtitle: null,
		link: "https://gimletmedia.com/show/startup/",
		category: ["Channels", "Podcasts", "Startups"],
		keywords: [],
		blurb: null
	},
	{
		name: "Audible",
		subtitle: null,
		link: "",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Iain M. Banks",
		subtitle: null,
		link: "",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "Culture Novels",
		subtitle: null,
		link: "https://www.goodreads.com/series/49118-culture",
		category: ["Books"],
		keywords: [],
		blurb: null
	},
	{
		name: "TechShop",
		subtitle: null,
		link: "http://www.techshop.ws/index.html",
		category: ["Groups"],
		keywords: [],
		blurb: null
	},
	{
		name: "Adobe Kuler",
		subtitle: null,
		link: "https://color.adobe.com/create/color-wheel/",
		category: ["Apps"],
		keywords: [],
		blurb: null
	},
	{
		name: "Robot Tournament",
		subtitle: null,
		link: "http://www.mathworks.com/company/newsletters/articles/motivating-first-year-uc-berkeley-students-to-learn-programming-with-a-virtual-robot-tournament.html",
		category: ["Me"],
		keywords: [],
		blurb: null
	},
	{
		name: "Teaching Effectiveness Award",
		subtitle: null,
		link: "http://www.ce.berkeley.edu/apps/news-archive/view.php?item=256",
		category: ["Me"],
		keywords: [],
		blurb: null
	},
	{
		name: "Startup Class",
		subtitle: null,
		link: "http://startupclass.samaltman.com/",
		category: ["Startups"],
		keywords: [],
		blurb: null
	},
	{
		name: "iOS Interface Guidelines",
		subtitle: null,
		link: "https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/",
		category: ["Article", "Guidelines"],
		keywords: [],
		blurb: null
	}	


	
	/*{
		name: "The Silmarillion",
		subtitle: null,
		link: "",
		category: ["Book"],
		keywords: [],
		blurb: null
	},
	{
		name: "I, Robot",
		subtitle: null,
		link: "",
		category: ["Book"],
		keywords: [],
		blurb: null
	},
	{
		name: "Isaac Asimov",
		subtitle: null,
		link: "",
		category: ["People", "Book"],
		keywords: [],
		blurb: null
	},
	{
		name: "Harrison Bergeron",
		subtitle: null,
		link: "",
		category: ["Book", "Article"],
		keywords: [],
		blurb: null
	}*/
];

// alphabetize interests
interests.sort(function(a,b) {
    if (a.name.toUpperCase().replace("THE ", "") < b.name.toUpperCase().replace("THE ", "")) return -1;
    else if (a.name.toUpperCase().replace("THE ", "") > b.name.toUpperCase().replace("THE ", "")) return 1;
    else return 0;
});

// create hash table for alphabetical list and categorical list
var hash = (function () {

	var hash = {alphabetical: {}, categorical: {}};

	for (var i=0; i<interests.length; i++) {
    	
		// alphabetical book keeping
    	var first = interests[i].name.toUpperCase().replace("THE ","")[0];

    	if (hash.alphabetical[first]) {
    		hash.alphabetical[first].push(interests[i]);
    	}
    	else {
    		hash.alphabetical[first] = [interests[i]];
    	};

    	// category book keeping
    	for (var j=0; j<interests[i].category.length; j++) {

    		if (hash.categorical[interests[i].category[j]]) {
    			hash.categorical[interests[i].category[j]].push(interests[i]);
    		}
    		else {
    			hash.categorical[interests[i].category[j]] = [interests[i]];
    		};
    	}
	};

	return hash;
})();

function stack3(A) {
	// returns cut points a and b for array, A, such that s1 = sum(A[i]_{i=0 to a}, 
	// s2 = sum(A[i]_{i=a+1 to b}), and s3 = sum(A[i]_{i=b+1 to end}) has MINIMUM VARIANCE.
	// note that a is the "back" of the first sub array and b is the "back" of the second sub array. 

	var end = A.length-1;

	var P = []; // cumulative sum
	var S = 0; // total sum, = P[end]
	for (var i=0; i<A.length; i++) {
		P.push(S+=A[i]);
	};

	var V = 1000000000000; // minumum variance found. initialize to high value
	var a, b, v, s1, s2, s3
	for (var i=0; i<A.length-2; i++) {
		for (var j=i+1; j<A.length-1; j++) {

			s1 = P[i];
			s2 = P[j]-P[i];
			s3 = P[end]-P[j];

			v = s1*s1 + s2*s2 + s3*s3; 
			// this should be v = (s1*s1 + s2*s2 + s3*s3)/3 - ((s1 + s2 + s3)/3)^2, i.e. E[x^2] - E[x]^2
			// which is v = (s1*s1 + s2*s2 + s3*s3)/3 - S*S/9
			// BUT division by 3 of first term and S*S/9 are constants when comparing for optimality, so we can get away with not computing it

			if (v < V) { //update if better
				V = v; a = i; b = j;
			};
		};
	};

	return {
		V: V/3 - S*S/9, // for fun compute actual variance
		a: a,
		b: b
	}

};